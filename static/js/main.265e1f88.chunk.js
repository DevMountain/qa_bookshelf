(this["webpackJsonpnodb-project"]=this["webpackJsonpnodb-project"]||[]).push([[0],{20:function(e,t,n){e.exports=n(49)},25:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(18),c=n.n(r),l=(n(25),n(3)),i=n(4),u=n(2),s=n(6),m=n(5),d=n(7),h=n.n(d);n(8),n(43),n(44);var k=function(){return a.a.createElement("div",null,a.a.createElement("header",null,a.a.createElement("p",null,"Cozy Corona Bookshelf"),a.a.createElement("p",{className:"subtitle"},"Keep track of books on your shelf that you now have time to read.")))},b=n(19),f=(n(45),function(e){Object(s.a)(n,e);var t=Object(m.a)(n);function n(e){var o;return Object(l.a)(this,n),(o=t.call(this,e)).infoHandler=function(e){o.setState(Object(b.a)({},e.target.name,e.target.value))},o.state={title:"",author:"",genre:"",coverImg:""},o}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.title,o=t.author,r=t.genre,c=t.coverImg,l=this.props.addBook;return a.a.createElement("div",{className:"add-form"},a.a.createElement("h1",{className:"right-pg-text right-pg-add"},"Add a book",a.a.createElement("br",null),"to your bookshelf"),a.a.createElement("form",{onSubmit:function(t){l(t,n,o,r,c),e.setState({title:"",author:"",genre:"",coverImg:""})}},a.a.createElement("input",{name:"title",type:"text",placeholder:"title",onChange:function(t){return e.infoHandler(t)},value:n}),a.a.createElement("input",{name:"author",type:"text",placeholder:"author",onChange:function(t){return e.infoHandler(t)},value:o}),a.a.createElement("input",{name:"genre",type:"text",placeholder:"genre",onChange:function(t){return e.infoHandler(t)},value:r}),a.a.createElement("input",{name:"coverImg",type:"text",placeholder:"cover Image URL (optional)",onChange:function(t){return e.infoHandler(t)},value:c}),a.a.createElement("button",null,"SUBMIT")))}}]),n}(a.a.Component)),g=(n(46),n(47),function(e){var t=e.book,n=t.id,o=t.title,r=t.author,c={backgroundImage:"url("+e.book.coverImg+")",backgroundSize:"100% 100%"};return a.a.createElement("div",null," ",e.book.completed?a.a.createElement("div",{className:"book-box",style:c},a.a.createElement("h1",{className:"book-done"},"You finished ",o),a.a.createElement("div",{className:"bk-done-container"},a.a.createElement("button",{onClick:function(){return e.completeBook(n)}},"RE-READ"),a.a.createElement("button",{onClick:function(){return e.deleteBook(n)}},"DELETE"))):a.a.createElement("div",{className:"book-box",style:c},a.a.createElement("div",{className:"ttl-author-container"},a.a.createElement("h1",{className:"book-title"},o),a.a.createElement("h2",{className:"book-author"},r)),a.a.createElement("div",{className:"bk-btn-container"},a.a.createElement("button",{onClick:function(){return e.completeBook(n)}},"DONE"),a.a.createElement("button",{onClick:function(){return e.deleteBook(n)}},"DELETE"))))}),p=function(e){var t=e.books.map((function(t){return a.a.createElement(g,{key:t.id,book:t,completeBook:e.completeBook,deleteBook:e.deleteBook})}));return a.a.createElement("div",{className:"bookshelf"},t)},E=(n(48),function(e){Object(s.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).handleChange=function(t){e.setState({genre:t.target.value})},e.state={genre:""},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement("div",{className:"genre-box"},a.a.createElement("h1",{className:"right-pg-text right-pg-genre"},"What genre are you ",a.a.createElement("br",null),"in the mood for?"),a.a.createElement("input",{className:"input-fields",name:"genre",type:"text",value:this.state.genre,onChange:function(t){return e.handleChange(t)},placeholder:"genre"}),a.a.createElement("button",{onClick:function(t){e.props.getGenre(e.state.genre),e.setState({genre:""})}},"SUBMIT")))}}]),n}(a.a.Component)),v=function(e){Object(s.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).getBooks=function(){h.a.get("/api/books").then((function(t){e.setState({books:t.data})})).catch((function(e){return console.log(e)}))},e.addBook=function(t,n,o,a,r){t.preventDefault(),h.a.post("/api/books",{title:n,author:o,genre:a,coverImg:r}).then((function(t){e.setState({books:t.data})})).catch((function(e){return console.log(e)}))},e.getGenre=function(t){h.a.get("/api/books/genre?genre=".concat(t)).then((function(t){e.setState({books:t.data})})).catch((function(e){return console.log(e)}))},e.deleteBook=function(t){h.a.delete("/api/books/".concat(t)).then((function(n){var o=e.state.books.findIndex((function(e){return e.id===t})),a=e.state.books.slice();a.splice(o,1),e.setState({books:a})})).catch((function(e){return console.log(e)}))},e.completeBook=function(t){h.a.put("/api/books/complete/".concat(t)).then((function(n){var o=e.state.books.findIndex((function(e){return e.id===t})),a=e.state.books.slice();a[o]=n.data,e.setState({books:a})})).catch((function(e){return console.log(e)}))},e.state={books:[]},e.getBooks=e.getBooks.bind(Object(u.a)(e)),e.getGenre=e.getGenre.bind(Object(u.a)(e)),e.addBook=e.addBook.bind(Object(u.a)(e)),e.deleteBook=e.deleteBook.bind(Object(u.a)(e)),e.completeBook=e.completeBook.bind(Object(u.a)(e)),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.getBooks()}},{key:"render",value:function(){return console.log(this.state),a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"page"},a.a.createElement(k,null),a.a.createElement("div",{className:"under-header"},a.a.createElement(p,{completeBook:this.completeBook,deleteBook:this.deleteBook,books:this.state.books}),a.a.createElement("div",{className:"right-components"},a.a.createElement(E,{books:this.state.books,getGenre:this.getGenre}),a.a.createElement(f,{addBook:this.addBook})))))}}]),n}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){}},[[20,1,2]]]);
//# sourceMappingURL=main.265e1f88.chunk.js.map